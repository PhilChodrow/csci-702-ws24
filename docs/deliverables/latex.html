<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.330">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Up and Running with \(\LaTeX\).</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../assets/icons/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../assets/css/styles.css">
</head>

<body class="nav-sidebar docked slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Senior Thesis: CSCI 0702
      </li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Senior Thesis: CSCI 0702</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Guidance</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#tips" id="toc-tips" class="nav-link active" data-scroll-target="#tips">Tips</a>
  <ul class="collapse">
  <li><a href="#make-your-document" id="toc-make-your-document" class="nav-link" data-scroll-target="#make-your-document">Make Your Document</a></li>
  <li><a href="#title-author-date" id="toc-title-author-date" class="nav-link" data-scroll-target="#title-author-date">Title, Author, Date</a></li>
  <li><a href="#text-formatting" id="toc-text-formatting" class="nav-link" data-scroll-target="#text-formatting">Text Formatting</a></li>
  <li><a href="#math" id="toc-math" class="nav-link" data-scroll-target="#math">Math</a></li>
  <li><a href="#citations-and-cross-references" id="toc-citations-and-cross-references" class="nav-link" data-scroll-target="#citations-and-cross-references">Citations and Cross-References</a>
  <ul class="collapse">
  <li><a href="#citations" id="toc-citations" class="nav-link" data-scroll-target="#citations">Citations</a></li>
  <li><a href="#cross-references" id="toc-cross-references" class="nav-link" data-scroll-target="#cross-references">Cross-References</a></li>
  </ul></li>
  <li><a href="#algorithms" id="toc-algorithms" class="nav-link" data-scroll-target="#algorithms">Algorithms</a></li>
  <li><a href="#table-of-contents-and-abstract" id="toc-table-of-contents-and-abstract" class="nav-link" data-scroll-target="#table-of-contents-and-abstract">Table Of Contents and Abstract</a></li>
  <li><a href="#macros" id="toc-macros" class="nav-link" data-scroll-target="#macros">Macros</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a></li>
  </ul></li>
  <li><a href="#submit-your-assignment" id="toc-submit-your-assignment" class="nav-link" data-scroll-target="#submit-your-assignment">Submit Your Assignment</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Up and Running with <span class="math inline">\(\LaTeX\)</span>.</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>

<p><span class="math inline">\(\LaTeX\)</span> is a document preparation markup language created by Donald Knuth and Leslie Lamport. <span class="math inline">\(\LaTeX\)</span> is one of the most widely used pieces of software among scientists and engineers. You will do your reflection writing, thesis drafting, and thesis writing in <span class="math inline">\(\LaTeX\)</span>. The purpose of this exercise is to get you up and running.</p>
<p>Y’all are advanced CS students and know how to Read The Docs. So, this exercise is partly about self-teaching some of core <span class="math inline">\(\LaTeX\)</span> constructs and workflows. It is normal to be confused about some things and normal to spend some time on StackExchange.</p>
<p>This assignment is not designed to be Very Hard, but it is likely to require some patience, some time, and some fearlessness with Googling.</p>
<p><strong>Example Solution</strong>: I have created an <a href="../assets/img/solutions/latex-practice-sol.pdf">example solution output</a> for this assignment. You are done when you have made a document that looks like this and uses the tools that I’ve indicated. You don’t have to replicate exactly my text or algorithms, but you must, for example, use commands like <code>\cref</code> and <code>\cite</code> rather than typing things out by hand.</p>
<section id="tips" class="level1 page-columns page-full">
<h1>Tips</h1>
<ul>
<li>The <a href="https://www.overleaf.com/learn/latex/Tutorials">Overleaf website</a> has a large number of tips and workflows.</li>
<li>I encourage you to help each other out by sharing ideas, pointers to documentation and online resources, etc. Please don’t share any code.</li>
<li>The thesis template that is already on Overleaf illustrates most of these techniques. Judicious cannibalism of this document is one good way to complete this assignment.</li>
<li>Organize your solution document in such a way that it is easy for you to see which pieces of code have which effects – you’ll want to use this document as a private reference when writing your thesis.</li>
</ul>
<section id="make-your-document" class="level2">
<h2 class="anchored" data-anchor-id="make-your-document">Make Your Document</h2>
<p>You are going to create a document from scratch in which you discover and practice the major daily components of <span class="math inline">\(\LaTeX\)</span>.</p>
<p>In your Overleaf thesis project, start by creating a brand new, blank file called <code>latex-practice.tex</code>.</p>
<p>Type the following to state that you want to create a new document of class <code>scrartcl</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">\documentclass</span>{<span class="ex">scrartcl</span>}</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">document</span>}</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">document</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="title-author-date" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="title-author-date">Title, Author, Date</h2>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class=""><img src="../assets/img/tex-examples/title.jpg" class="img-fluid" alt="An example of the title, author, and date fields in the default scrartcl class."></span></div></div>
<p>Give your document a title, author, and date. Note that it is not sufficient to just type these out near the top of the file – you will need to find the correct commands to formally create these fields. The result will look something like the screencap on the right.</p>
</section>
<section id="text-formatting" class="level2">
<h2 class="anchored" data-anchor-id="text-formatting">Text Formatting</h2>
<p><em>Create a section</em> called “Text Formatting.” There is a special command for making sections.</p>
<p>Write a short paragraph – nonsense is fine. Then, create:</p>
<ul>
<li><em>Some italicized words</em> and <strong>some bolded words</strong>.</li>
<li>A bulleted list (like the one you’re reading right now).</li>
<li>A numbered list:
<ol type="1">
<li>Like</li>
<li>This</li>
<li>One.</li>
</ol></li>
<li>Advanced: a numbered list within a bulleted list, or vice versa.</li>
<li>A section header.</li>
</ul>
</section>
<section id="math" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="math">Math</h2>
<p><em>Create another section</em> called “Math.”</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">To do this part, you will need to use your first <em>packages</em>. You will need to use the <code>amsmath</code> and <code>amssymb</code> packages.</span></div></div>
<p>Write a big display equation or inequality from the most recent CS/math/phyics course you’ve seen inside an <em>align</em> environment. For example, here’s a definition of the empirical risk in machine learning problems:</p>
<p><span class="math display">\[
\begin{aligned}
    R(\mathbf{X}, \mathbf{y}) = \frac{1}{n} \sum_{i = 1}^n \ell(f(\mathbf{x}_i), y_i)
\end{aligned}
\]</span></p>
<p>Then, write a short paragraph in which you describe what the symbols appearing in the equation mean. Your paragraph should include the symbols! For example, in the equation above, <span class="math inline">\(R\)</span> is the name of the empirical risk function. <span class="math inline">\(\mathbf{X}\in \mathbb{R}^{n\times n}\)</span> is the matrix of predictor data and <span class="math inline">\(\mathbf{y}\)</span> is a vector of targets. The function <span class="math inline">\(\ell\)</span> is the loss function and <span class="math inline">\(f\)</span> is the predictor function.</p>
</section>
<section id="citations-and-cross-references" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="citations-and-cross-references">Citations and Cross-References</h2>
<p>Create another section called “Citations and Cross-References.”</p>
<section id="citations" class="level3">
<h3 class="anchored" data-anchor-id="citations">Citations</h3>
<p>Within this section, create a <em>subsection</em> called “Citations”.</p>
<p>Grab a <code>.bib</code> file containing a few citations. For now, it’s ok to create this file in any way you want. You can even just reference <code>sampleThesis.bib</code> in the Overleaf, which does not require you to make any new files.</p>
<ul>
<li>Declare that you are going to use the <code>biblatex</code> package.</li>
<li>Then, add your <code>.bib</code> file as a bibliography resource.</li>
<li>Arrange to print your bibliography at the end of the document.</li>
</ul>
<p>Now we are ready to start citing! Demonstrate the use of <code>\cite</code>, <code>\textcite</code>, and <code>\fullcite</code> to generate citations. Check that the citations appear in your text as well as in the “References” section.</p>
</section>
<section id="cross-references" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="cross-references">Cross-References</h3>
<p>Create another subsection called “Cross-References”.</p>
<p>First, label the equation that you wrote in the previous section. For example, you could label it <code>eq:first-eq</code>. Then, use the command <code>\cref{eq:first-eq}</code> to generate a cross-reference to this equation in the text of your document. Now you can talk about the equation and your readers will know exactly which one you are talking about!!</p>
<div class="page-columns page-full"><p>Now let’s make a figure. Your figure must have a figure number (e.g.&nbsp;“Figure 1”) and a caption. </p><div class="no-row-height column-margin column-container"><span class="">Creating a figure in <span class="math inline">\(\LaTeX\)</span> is a little complex. You will need to create a figure environment, then place a graphic inside that environment, and then add the caption. Your graphic is a file (like <code>.png</code> or <code>.jpeg</code> that can live in a separate folder on Overleaf.)</span></div></div>
<p>Next, give the figure a <em>label</em> which will allow you to refer back to it. For example, you could label it <code>fig:first-fig</code>. Finally, in the text in this section, use the command <code>\cref{fig:first-fig}</code> to generate a cross-reference to this figure, in which ou say something about it.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">To do this part, you will need to use more packages: <code>hyperref</code>, <code>cleverref</code>, and <code>graphicx</code>. Some people (like me) think that the default <code>hyperref</code> settings are a little ugly. You can hide links by choosing the optional <code>hidelinks=true</code> argument when declaring the use of <code>hyperref</code>. <code>hyperref</code> <em>must</em> be declared before <code>cleverref</code>.</span></div></div>
</section>
</section>
<section id="algorithms" class="level2">
<h2 class="anchored" data-anchor-id="algorithms">Algorithms</h2>
<p>Since we are computer scientists, let’s typeset an algorithm! Declare that you are going to use the <code>algorithm2e</code> package (I think it looks niced with the <code>ruled</code> option). Then, pick your favorite algorithm from 201, 301, or 302 (or any other class) and typeset it. Please show the use of at least one loop or branching structure. Make sure to a description of the input, result, and a brief caption. Also demonstrate making a comment. Give your algorithm a label and refer to it in the main text.</p>
<p>Note: to correctly use <code>cref</code> with an algorithm, you will need to invoke <code>\uspackage{algorithm2e}</code> <em>before</em> <code>\uspackage{algorithm2e}</code>.</p>
</section>
<section id="table-of-contents-and-abstract" class="level2">
<h2 class="anchored" data-anchor-id="table-of-contents-and-abstract">Table Of Contents and Abstract</h2>
<p>Wow, we’re coming up on a lot of sections here! Let’s make it a little easier for your reader to understand what’s going on. Add an automatic table of contents and an abstract at the beginning of your document. Personally, I liked adding a <code>\newpage</code> after my table of contents.</p>
</section>
<section id="macros" class="level2">
<h2 class="anchored" data-anchor-id="macros">Macros</h2>
<p><span class="math inline">\(\LaTeX\)</span> allows you to define your own custom macros, which can be useful for typesetting complicated jargon or frequently-used mathematical symbols. You can think of these macros as something like functions in a programming language.</p>
<p>Create a new command called <code>\alg</code> which, when you type <code>\alg</code> in your document, renders with the name of an algorithm you like.</p>
<p>Macros without arguments can be thought of as global constants. If there is a number that depends on an experiment you’ve done, wrapping that number in a macro will let you just change it once (in the macro definition) when you inevitably get a slightly different result from repeating the experiment.</p>
</section>
<section id="appendix" class="level2">
<h2 class="anchored" data-anchor-id="appendix">Appendix</h2>
<p>Let’s make a nice appendix where we can put details that might be a bit too fiddly for the main text. Create a new section that is part of the appendix. The section should be assigned a letter rather than a number to indicate its status.</p>
</section>
</section>
<section id="submit-your-assignment" class="level1">
<h1>Submit Your Assignment</h1>
<p>On Canvas, submit a sharing link to your Overleaf project containing your solution.</p>


</section>

<p><br> <br> <span style="color:grey;">© Phil Chodrow, 2023</span></p></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>