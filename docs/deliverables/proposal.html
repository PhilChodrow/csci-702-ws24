<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.339">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Thesis Proposal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../assets/icons/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../assets/css/styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Senior Thesis: CSCI 0702
      </li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Senior Thesis: CSCI 0702</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Guidance</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what" id="toc-what" class="nav-link active" data-scroll-target="#what">What?</a></li>
  <li><a href="#why" id="toc-why" class="nav-link" data-scroll-target="#why">Why?</a></li>
  <li><a href="#thesis-proposal-presentation" id="toc-thesis-proposal-presentation" class="nav-link" data-scroll-target="#thesis-proposal-presentation">Thesis Proposal Presentation</a>
  <ul class="collapse">
  <li><a href="#proposal-presentation-outline" id="toc-proposal-presentation-outline" class="nav-link" data-scroll-target="#proposal-presentation-outline">Proposal Presentation Outline</a></li>
  <li><a href="#proposal-presentation" id="toc-proposal-presentation" class="nav-link" data-scroll-target="#proposal-presentation">Proposal Presentation</a></li>
  </ul></li>
  <li><a href="#thesis-proposal-document" id="toc-thesis-proposal-document" class="nav-link" data-scroll-target="#thesis-proposal-document">Thesis Proposal Document</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Thesis Proposal</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>

<p>By the end of Winter Term, you will write a <strong>thesis proposal</strong>. This proposal describes the work that you have already done, the work that you will do in the spring, and the overall scientific accomplishment that your thesis will represent. Your thesis proposal is proof that you <em>have a plan</em> for completing an interesting and high-quality project.</p>
<p>During Winter term, we’ll work on your thesis proposal through a sequence of assignments.</p>
<section id="what" class="level2">
<h2 class="anchored" data-anchor-id="what">What?</h2>
<p>Please create a very short presentation of <strong>3 slides</strong> (not including your title slide). You should have one slide that addresses each of the following questions:</p>
<ol type="1">
<li>What is the thing that I am going to do?</li>
<li>Why am <strong>I</strong> interested in or excited about that?
<ul>
<li><em>Note: at this point, you don’t have to justify why anyone</em> <strong><em>else</em></strong> <em>should be interested in or excited about it.</em></li>
</ul></li>
<li>If I am completely successful, what would the outcome of my work be?</li>
</ol>
<p>You should expect that your in-class presentation will take no longer than 5 minutes.</p>
<p><strong>Please do</strong> use graphics, diagrams, and technical language used in the area in which you are studying.</p>
<p><strong>Please don’t</strong> worry about the question of “why is this important?” We’ll address that question in a future presentation.</p>
<p><strong>Submit a PDF of your slides on Canvas and be ready to present in class!</strong></p>
</section>
<section id="why" class="level2">
<h2 class="anchored" data-anchor-id="why">Why?</h2>
<p>Now it’s time to clearly state the “<em>why?</em>” of your work. Please create a brief presentation of 5 slides (not including your title slide). Each of your slides should address one of the following sets of questions:</p>
<ol type="1">
<li>What is the thing that I am going to do? (<em>This can be a revision of slides in your “What?” presentation.</em>)</li>
<li>Why should people care about that thing getting done?</li>
<li>What previous work exists that has attempted to solve my problem, or closely-related problems?</li>
<li>What is the “gap” in this work? Why is there still more work left to do in this area?</li>
<li>What’s my angle? What’s the idea or secret sauce that makes me believe that I can address this gap in a useful way?</li>
</ol>
<p><strong>Please do</strong> use graphics, diagrams, and technical language used in the area in which you are studying.</p>
<p><strong>Please don’t</strong> get too bogged down in making your slides look extremely fancy.</p>
<p><strong>Submit a PDF of your slides on Canvas and be ready to present in class!</strong></p>
<!-- ## How?

Ok, so you know what you want to do and you know why we should care that you do it. ***How*** are you going to make it happen? Please create a brief presentation of 7 slides (not including your title slide) in which you address how you'll pursue your thesis research. Please organize your slides in the following sequence: 

[Slides 1, 2, and 3 can (and should!) be remixes from the **What?** and **Why?** presentations.]{.aside} 

1. Reminder: what am I doing? 
2. Reminder: why should folks care that I am doing it? 
3. Reminder: How have other folks approached this problem in the past? 
4. What is the big-picture strategy for my approach? How did I (or my advisor) choose that strategy? 
5. How does what I have *already* done fit into that strategy? What's the rest of my roadmap, as best I can see it? 
6. What is the major *obstacle* or *challenge* that I can foresee that could potentially disrupt my ability to execute the approach? 
7. What is my area of focus over the next ~50 hours or so of work? 

**Please do** use graphics, diagrams, and technical language used in the area in which you are studying.  

**Please don't** get too bogged down in making your slides look extremely fancy. 

**Submit a PDF of your slides on Canvas and be ready to present in class!**  -->
</section>
<section id="thesis-proposal-presentation" class="level2">
<h2 class="anchored" data-anchor-id="thesis-proposal-presentation">Thesis Proposal Presentation</h2>
<p>Your thesis proposal presentation includes two deliverables:</p>
<section id="proposal-presentation-outline" class="level3">
<h3 class="anchored" data-anchor-id="proposal-presentation-outline">Proposal Presentation Outline</h3>
<p>Your thesis proposal presentation is an 11-slide, 11-minute presentation in which you describe your research question, summarize your achievements so far, and describe what you will do next. You can think of it as a synthesis of <strong>What?</strong>, <strong>Why?</strong>, with aspects that look both forward and backward. Unlike the previous presentations we’ve done in this class, this presentation should be structured and professional. We’ll be inviting the CS faculty to attend your proposal presentation.</p>
<p>Because the proposal is a more formal presentation, I am going to ask you to <strong>outline</strong> it ahead of time. Your outline should be based on the strategy described in Part 1 of <a href="https://drive.google.com/file/d/13efH6iA6toPtJ91KBt_QCeAyQBcSN7SA/view">these slides</a> by <a href="https://larremorelab.github.io/">Dan Larremore</a>. In particular, your outline (and your slides) should be structured exactly as:</p>
<ol type="1">
<li>Title</li>
<li>Intro: entice audience. This is probably the right place to explain the problem and why it is important.</li>
<li>Intro: hook audience (now they are fully paying attention). This is a good place to expand on the importance of the problem, describe what has been done before, and hint at the secret sauce that is going to make you successful.</li>
<li>Outline: what content you are about to share with them.</li>
<li>[Results]</li>
<li>[Results]</li>
<li>[Results]</li>
<li>[Results]</li>
<li>Summary: remind the audience of what you’ve shared so far.</li>
<li>Outline of plans for the spring semester: what do you need to do and how will you do it?</li>
<li>Thanks + acknowledgements.</li>
</ol>
<p>Each of these slides needs to be relatively simple: you should plan to spend approximately 1 minute on each (possibly less on title slide and thanks + acknowledgments).</p>
<p>Your outline can be an entry in your reflection journal on Overleaf. Submit a PDF on Canvas.</p>
<p><strong>Required Outline Components</strong></p>
<ul>
<li>1-2 sentences describing <em>the idea</em> of your project. What will folks say when they are asked what your talk was about?</li>
<li>A few sentences describing what you know about your audience and how you will factor that knowledge into your presentation strategy. (Note: your audience is your classmates + CS faculty)</li>
<li>For each of your 11 slides, write a sentence that describes the purpose of the slide (motivating the topic, explaining a preliminary result, describing an approach, summarizing what has been learned). Your sentences should be unique and specific in the context of <em>your</em> project.
<ul>
<li>So, “In this slide, I will hook the audience” is not unique or specific.</li>
<li>“In this slide, I will highlight the gap in scholarship about X and hint that I am going to use Y to address this.”</li>
</ul></li>
</ul>
</section>
<section id="proposal-presentation" class="level3">
<h3 class="anchored" data-anchor-id="proposal-presentation">Proposal Presentation</h3>
<p>Your proposal presentation should be a set of professional, polished slides that implement the outline you submitted above. Before crafting your presentation, please take time to completely read through <a href="https://drive.google.com/file/d/13efH6iA6toPtJ91KBt_QCeAyQBcSN7SA/view">these slides</a> by <a href="https://larremorelab.github.io/">Dan Larremore</a>. A few simple points are especially important:</p>
<ol type="1">
<li>All figures need to have axis labels and a <em>message</em> that contributes to the purpose of the slide.</li>
<li>No small fonts.</li>
<li>Exactly 11 slides, timed for exactly 11 minutes. Practice ahead of time!</li>
</ol>
<p>That said, the more you adapt from Dan’s guidance, the better your presentations will be.</p>
<p><strong>Submit a PDF of your slides on Canvas and be ready to present in class!</strong></p>
</section>
</section>
<section id="thesis-proposal-document" class="level2">
<h2 class="anchored" data-anchor-id="thesis-proposal-document">Thesis Proposal Document</h2>
<p>Your thesis proposal is a written version of your proposal presentation. You can think of it as the capstone deliverable for CSCI 0702 in W24. It should include the following sections:</p>
<ul>
<li><strong>Abstract</strong>: Give a concise, one-paragraph summary of your proposal document.</li>
<li><strong>Introduction</strong>: Describe the problem you aim to solve and why it’s important. This is a good place to cite “big picture” papers that don’t necessarily address your problem but do underscore why it matters. You can also close this section with a paragraph describing what <em>you</em> are going to do and how it is promisingly different from what has been done before.</li>
<li><strong>Related Work</strong>: Give a written overview of prior literature that addresses your problem or related versions of your problem.</li>
<li><strong>Methods</strong>: Describe <em>your</em> approach to your problem – algorithms, math, software frameworks, experiments.</li>
<li><strong>Results</strong>: Describe the results of your work so far. This is a good place to include appropriately labeled figures <strong>with discussion</strong>, as well as tables and other artifacts produced from your findings so far. Your focus in this section should be on ensuring that the reader understands what the results literally mean and how they relate to each other. Questions of importance or big-picture framing are for the following section.</li>
<li><strong>Discussion</strong>: Describe the significance and limitations of your results. Here is the place to emphasize the importance of your results in the context of your overall research motivation.</li>
<li><strong>Future Work</strong>: Describe the gap between what you’ve achieved so far and what you’ve set out to do. What’s left? Describe your plan for the remainder of your work, your vision of full success, and a possible “partial success” scenario that would still allow you to addres the primary motivation of your project.</li>
</ul>
<section id="specifications" class="level4">
<h4 class="anchored" data-anchor-id="specifications">Specifications</h4>
<ul>
<li>Please include all of the sections above, in the described order.</li>
<li>Your proposal should be 4-6 single-spaced pages (or 8-12 double-spaced pages), not including references.</li>
<li>Related, please use appropriate citations in LaTeX and generate a references section.</li>
<li>Proposals are a polished, professional written artifact. They should therefore be drafted and revised!</li>
<li>Writing tactics:
<ul>
<li><a href="https://matt.might.net/articles/shell-scripts-for-passive-voice-weasel-words-duplicates/">No weasel words</a>.</li>
<li>When structuring a results section, I often find it helpful to generate my figures (and captions) <em>first</em>, and then build my story around them.</li>
<li>Your story is a narrative of your scientific findings, not of the work you did to get them. If you spent a lot of time on something that ultimately didn’t work out, you should spend at most a few sentences in your proposal explaining what you did, why it didn’t work, and how that’s relevant to what <em>did</em> work.</li>
</ul></li>
</ul>


</section>
</section>

<p><br> <br> <span style="color:grey;">© Phil Chodrow, 2023</span></p></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>